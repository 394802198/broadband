<style>
#order_detail .form-group {
	margin-bottom:4px;
}

.align-right {
	text-align:right;
}

.xs-btn-width-small {
	width:120px;
}

.xs-btn-width {
	width:150px;
}

.xs-btn-width-long {
	width:180px;
}

.xs-btn-width-longer {
	width:220px;
}

.strong {
	font-weight:bold;
}

</style>

<!-- orders -->
<.
	var customerOrder = customer.customerOrders;
	for(var i=0; i < customerOrder.length; i++){
	var order_total_price = new Number(customerOrder[i].order_total_price);
.>
	<form class="form-horizontal" action="<.= ctx .>/broadband-user/crm/customer/order/previous_provider_invoice/pdf/upload" enctype="multipart/form-data" method="post">
		<input type="hidden" name="order_id" value="<.= customerOrder[i].id .>"/>
		<input type="hidden" name="customer_id" value="<.= customer.id .>"/>
	
		<h4 class="text-success">Order Information</h4>
		<.
			if((user_role == 'system-developer' || user_role == 'administrator' || user_role == 'accountant') && customerOrder[i].order_type == 'order-term'){
		.>
			<br/>
			<strong>Termed Order's Operations:</strong><br/><br/>
			<a href="javascript:void(0);" id="<.= customerOrder[i].id .>" class="btn btn-xs btn-primary xs-btn-width-longer" data-name="<.= customerOrder[i].id .>_regenerate_invoice" data-type="regenerate">Regenerate most recent invoice</a>&nbsp;&nbsp;
			<a href="javascript:void(0);" id="<.= customerOrder[i].id .>" class="btn btn-xs btn-primary xs-btn-width-longer" data-name="<.= customerOrder[i].id .>_manually_generate_invoice" data-type="generate">Generate next invoice</a>&nbsp;&nbsp;
			<a href="javascript:void(0);" id="<.= customerOrder[i].id .>" class="btn btn-xs btn-warning xs-btn-width-longer" data-name="<.= customerOrder[i].id .>_early_termination_charge" data-type="early_termination_charge">
				Early termination charge&nbsp;&nbsp;<span class="glyphicon glyphicon-arrow-left"></span>
			</a>&nbsp;&nbsp;
			<a href="javascript:void(0);" id="<.= customerOrder[i].id .>" class="btn btn-xs btn-warning xs-btn-width-longer" data-name="<.= customerOrder[i].id .>_termination_refund" data-type="termination_refund">
				Early termination refund&nbsp;&nbsp;<span class="glyphicon glyphicon-arrow-right"></span>
			</a>
		<.
			}
		.>
		<hr/>
		
		<div class="row">
			<div class="col-md-6">
				<div class="form-group">
					<label class="control-label col-md-6">Order ID</label>
					<div class="col-md-6">
						<p class="form-control-static"><.= customerOrder[i].id .></p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Order Create Date</label>
					<div class="col-md-6">
						<p class="form-control-static strong"><.= customerOrder[i].order_create_date_str .></p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Order Status</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_order_status" data-val="<.= customerOrder[i].order_status .>" class="form-control-static strong">
							<.= customerOrder[i].order_status .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Order Type</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_order_type" data-val="<.= customerOrder[i].order_type .>" class="form-control-static">
							<.= customerOrder[i].order_type .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Order Broadband Type</label>
					<div class="col-md-6">
						<p class="form-control-static"><.= customerOrder[i].order_broadband_type .></p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Order Total Price</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_order_total_price" data-val="<.= customerOrder[i].order_total_price .>" class="form-control-static strong">
							$ <.= order_total_price.toFixed(2) .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Order Due</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_order_due" data-val="<.= customerOrder[i].order_due_str .>" class="form-control-static strong">
							<.= customerOrder[i].order_due_str .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">PSTN Amount</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_pstn_count" data-val="<.= customerOrder[i].pstn_count .>" class="form-control-static">
							<.= customerOrder[i].pstn_count .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">PSTN Rental Amount</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_pstn_rental_amount" data-val="<.= customerOrder[i].pstn_rental_amount .>" class="form-control-static">
							<.= customerOrder[i].pstn_rental_amount .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Term Period</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_term_period" data-val="<.= customerOrder[i].term_period .>" class="form-control-static ">
							<.= customerOrder[i].term_period .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Transition Provider Name</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_transition_provider_name" class="form-control-static">
							<.= customerOrder[i].transition_provider_name .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Transition Account Holder</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_transition_account_holder_name" class="form-control-static">
							<.= customerOrder[i].transition_account_holder_name .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Transition Account Number</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_transition_account_number" class="form-control-static">
							<.= customerOrder[i].transition_account_number .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Transition Telephone Number</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_transition_porting_number" class="form-control-static">
							<.= customerOrder[i].transition_porting_number .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Previous Provider Invoice</label>
					<div class="col-md-6">
					<.
						if(customerOrder[i].previous_provider_invoice == null || customerOrder[i].previous_provider_invoice == ''){
					.>
  							<p class="form-control-static">No Previous Provider Invoice PDF</p>
					<.
						} else {
					.>
							<p class="form-control-static"><a target="_blank" href="<.= ctx .>/broadband-user/crm/customer/order/previous_provider_invoice/pdf/download/<.= customerOrder[i].id .>" class="glyphicon glyphicon-floppy-save" style="font-size:20px;" data-toggle="tooltip" data-placement="bottom" data-original-title="Download previous provider's invoice PDF"></a></p>
					<.
						}
					.>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Download Application Form</label>
					<div class="col-md-6">
						<p class="form-control-static"><a href="javascript:void(0);" data-name="generateApplicationUrl_<.= customerOrder[i].id .>" data-url="<.= ctx .>/broadband-user/crm/customer/order/application_form/regenerate/<.= customerOrder[i].id .>" class="glyphicon glyphicon-refresh" style="font-size:20px;" data-toggle="tooltip" data-placement="bottom" data-original-title="Overwrite/Generate current application form's PDF"></a>
					<.
						if(customerOrder[i].order_pdf_path == null || customerOrder[i].order_pdf_path.trim() == ''){
					.>
  							&nbsp;No Application Form PDF
					<.
						} else {
					.>
							&nbsp;<a target="_blank" href="<.= ctx .>/broadband-user/crm/customer/order/pdf/download/<.= customerOrder[i].id .>" class="glyphicon glyphicon-floppy-save" style="font-size:20px;" data-toggle="tooltip" data-placement="bottom" data-original-title="Download application form's PDF"></a>
					<.
						}
					.>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Download Credit Card Form</label>
					<div class="col-md-6">
					<.
						if(customerOrder[i].credit_pdf_path == null || customerOrder[i].credit_pdf_path == ''){
					.>
  							<p class="form-control-static">No Credit Card Form PDF</p>
					<.
						} else {
					.>
							<p class="form-control-static"><a target="_blank" href="<.= ctx .>/broadband-user/crm/customer/order/credit/pdf/download/<.= customerOrder[i].id .>" class="control-label glyphicon glyphicon-floppy-save" style="font-size:20px;" data-toggle="tooltip" data-placement="bottom" data-original-title="Download credit card form's PDF"></a></p>
					<.
						}
					.>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Download DDPay Form</label>
					<div class="col-md-6">
					<.
						if(customerOrder[i].ddpay_pdf_path == null || customerOrder[i].ddpay_pdf_path == ''){
					.>
  							<p class="form-control-static">No DDPay Form PDF</p>
					<.
						} else {
					.>
							<p class="form-control-static"><a target="_blank" href="<.= ctx .>/broadband-user/crm/customer/order/ddpay/pdf/download/<.= customerOrder[i].id .>" class="control-label glyphicon glyphicon-floppy-save" style="font-size:20px;" data-toggle="tooltip" data-placement="bottom" data-original-title="Download ddpay form's PDF"></a></p>
					<.
						}
					.>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">This Order Belongs To</label>
					<div class="col-md-6">
						<p class="form-control-static" id="<.= customerOrder[i].id .>_order_belongs_to">
						<.
							for(var u=0; u<users.length; u++){
								if(users[u].id == customerOrder[i].user_id || users[u].id == customerOrder[i].sale_id){
						.>
									<.=  users[u].user_name .>&nbsp;-&nbsp;<strong><.=  users[u].user_role .></strong>
						<.
								}
							}
						.>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Optional Request</label>
					<div class="col-md-6">
						<.
							if(customerOrder[i].optional_request == '' || customerOrder[i].optional_request == null){
						.>
  							<p class="form-control-static">No Request</p>
						<.
							} else {
						.>
							<a id="<.= customerOrder[i].id .>" href="javascript:void(0);" data-name="<.= customerOrder[i].id .>_order_optional_request" data-toggle="tooltip" data-placement="bottom" data-original-title="View Additional Request" style="font-size:20px;">
							  <span class="glyphicon glyphicon-registration-mark"></span>
							</a>
						<.
							}
						.>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<select data-name="<.= customerOrder[i].id .>_order_status_selector" data-val="<.= customerOrder.order_status .>" class="form-control input-sm" style="height:26px; padding:0 10px;">
							<.
								var status = ['paid','pending','ordering-paid','ordering-pending','using','cancel','discard'];
								for(var s=0; s<status.length; s++){
									if(customerOrder[i].order_status == status[s]){
							.>
										<option value="<.= status[s] .>" selected="selected"><.= status[s] .></option>
							<.
									} else {
							.>
										<option value="<.= status[s] .>"><.= status[s] .></option>
							<.
									}
								}
							.>
						</select>
					</div>
					<div class="col-md-6">
						<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-xs pull-right xs-btn-width" data-name="<.= customerOrder[i].id .>_order_status_edit">Update Order Status</a>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<div class="input-group date" id="<.= customerOrder[i].id .>_order_due_datepicker">
							<strong><input data-val="<.= customerOrder[i].order_due_str .>" data-name="<.= customerOrder[i].id .>_order_due_input_picker" class="form-control input-sm" placeholder="Order Due Date" style="height:26px; padding:0 10px;"/></strong>
							<span class="input-group-addon" style="height:26px; padding:0 10px;"><i class="glyphicon glyphicon-calendar"></i></span>
						</div>
					</div>
					<div class="col-md-6">
						<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-xs pull-right xs-btn-width" data-name="<.= customerOrder[i].id .>_order_due_input_btn" >Update Order Due</a>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<input type="file" name="previous_provider_invoice_path" class="form-control" placeholder="File Path" />
					</div>
					<div class="col-md-6">
						<button type="submit" class="btn btn-success btn-xs pull-right xs-btn-width" >Upload Pre Invoice</button>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<input type="file" name="application_form_path" class="form-control" placeholder="File Path" />
					</div>
					<div class="col-md-6">
						<button type="submit" class="btn btn-success btn-xs pull-right xs-btn-width" >Upload Apply Form</button>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<input type="file" name="ddpay_form_path" class="form-control" placeholder="File Path" />
					</div>
					<div class="col-md-6">
						<button type="submit" class="btn btn-success btn-xs pull-right xs-btn-width" >Upload DDPay Form</button>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<select data-name="<.= customerOrder[i].id .>_order_belongs_to_selector" data-val="<.= customerOrder[i].sale_id .>" class="form-control input-sm" style="height:26px; padding:0 10px;">
							<.
								for(var u=0; u<sales.length; u++){
									if(sales[u] == customerOrder[i].sale_id){
							.>
								<option value="<.= sales[u].id .>" selected="selected"><.= sales[u].user_name .></option>
							<.
									} else {
							.>
								<option value="<.= sales[u].id .>"><.= sales[u].user_name .></option>
							<.
									}
								}
							.>
						</select>
					</div>
					<div class="col-md-6">
						<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-xs pull-right xs-btn-width" data-name="<.= customerOrder[i].id .>_order_belongs_to_edit" >Update Submitted By</a>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">&nbsp;</label>
					<div class="col-md-6">
						<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-sm pull-right xs-btn-width" data-name="<.= customerOrder[i].id .>_optional_request_edit" >Update Request</a>
					</div>
				</div>
			</div>
		</div>
		
		<!-- pppoe -->
		<hr />
		<h4 class="text-success">PPPoE Information</h4>
		<hr />
		<div class="row">
			<div class="col-md-6">
				<div class="form-group">
					<label class="control-label col-md-6">PPPoE Login Name</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_pppoe_loginname" class="form-control-static"><.= customerOrder[i].pppoe_loginname .></p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">PPPoE Password</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_pppoe_password" class="form-control-static"><.= customerOrder[i].pppoe_password .></p>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
					<div class="col-md-6">
						<input id="<.= customerOrder[i].id .>_pppoe_loginname_input" value="<.= customerOrder[i].pppoe_loginname .>" name="pppoe_loginname" data-name="<.= customerOrder[i].id .>_pppoe_loginname" class="form-control input-sm" data-placement="top" placeholder="PPPoE Login Name" style="height:26px; padding:0 10px;" data-error-field/>
					</div>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<input id="<.= customerOrder[i].id .>_pppoe_password_input" value="<.= customerOrder[i].pppoe_password .>" name="pppoe_password" data-name="<.= customerOrder[i].id .>_pppoe_password" class="form-control input-sm" data-placement="bottom" placeholder="PPPoE Password" style="height:26px; padding:0 10px;" data-error-field/>
					</div>
					<div class="col-md-6">
						<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-xs btn-block xs-btn-width pull-right" data-name="<.= customerOrder[i].id .>_pppoe_edit_btn">Update PPPoE</a>
					</div>
				</div>
			</div>
		</div>
		
		<!-- SV/CVLan Information -->
		<hr />
		<h4 class="text-success">SV/CVLan &amp; RFS(Ready For Service) Date Information</h4>
		<hr />
		<div class="row">
			<div class="col-md-6">
				<div class="form-group">
					<label class="control-label col-md-6">SVLan</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_svlan" class="form-control-static"><.= customerOrder[i].svlan .></p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">CVLan</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_cvlan" class="form-control-static"><.= customerOrder[i].cvlan .></p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">RFS Date</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_rfs_date" data-val="<.= customerOrder[i].rfs_date_str .>" class="form-control-static strong">
							<.= customerOrder[i].rfs_date_str .>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
					<div class="col-md-6">
						<input id="<.= customerOrder[i].id .>_svlan_input" value="<.= customerOrder[i].svlan .>" class="form-control input-sm" data-placement="top" placeholder="SVLan" style="height:26px; padding:0 10px;" data-error-field/>
					</div>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<input id="<.= customerOrder[i].id .>_cvlan_input" value="<.= customerOrder[i].cvlan .>" class="form-control input-sm" data-placement="left" placeholder="CVLan" style="height:26px; padding:0 10px;" data-error-field/>
					</div>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">
						<div class="input-group date" id="<.= customerOrder[i].id .>_rfs_date_picker">
							<input id="<.= customerOrder[i].id .>" data-val="<.= customerOrder[i].rfs_date_str .>" data-name="<.= customerOrder[i].id .>_rfs_date_input_picker" class="form-control input-sm" placeholder="RFS Date" style="height:26px; padding:0 10px;"/>
							<span class="input-group-addon" style="height:26px; padding:0 10px;"><i class="glyphicon glyphicon-calendar"></i></span>
						</div>
					</div>
					<div class="col-md-6">
						<a id="<.= customerOrder[i].id .>"
						class="btn btn-xs btn-block xs-btn-width-longer pull-right <.= customerOrder[i].rfs_date != null ? 'btn-danger' : 'btn-success' .>"
						data-name="<.= customerOrder[i].id .>_svcvlan_save"
						data-way="<.= customerOrder[i].rfs_date != null ? 'update' : 'save' .>">
							<.= customerOrder[i].rfs_date != null ? 'Update SV/CVLan &amp; RFS Date' : 'Save SV/CVLan &amp; RFS Date' .>
						</a>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Service Giving Information -->
		<hr />
		<h4 class="text-success">Service Giving Information</h4>
		<hr />
		<div class="row">
			<div class="col-md-6">
				<div class="form-group">
					<label class="control-label col-md-6">Service Giving Date</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_order_using_start" class="form-control-static">
							<.= customerOrder[i].order_using_start_str .>
						</p>
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-md-6">Next Invoice Create Date</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_next_invoice_create_date" class="form-control-static">
							<.= customerOrder[i].next_invoice_create_date_str .>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
					<div class="col-md-6">
						<div class="input-group date" id="<.= customerOrder[i].id .>_order_using_start_datepicker">
							<input id="<.= customerOrder[i].id .>" data-val="<.= customerOrder[i].order_using_start_str .>" data-name="<.= customerOrder[i].id .>_order_using_start_input_picker" class="form-control input-sm" placeholder="Order Using Start Date" style="height:26px; padding:0 10px;"/>
							<span class="input-group-addon" style="height:26px; padding:0 10px;"><i class="glyphicon glyphicon-calendar"></i></span>
						</div>
					</div>
					<div class="col-md-6">&nbsp;</div>
				</div>
				<div class="form-group">
					<div class="col-md-6">&nbsp;</div>
					<div class="col-md-6">
						<a id="<.= customerOrder[i].id .>"
						class="btn btn-xs btn-block xs-btn-width-longer pull-right <.= customerOrder[i].order_using_start != null ? 'btn-danger' : 'btn-success' .>"
						data-name="<.= customerOrder[i].id .>_service_giving_save"
						data-way="<.= customerOrder[i].order_using_start != null ? 'update' : 'save' .>">
							<.= customerOrder[i].order_using_start != null ? 'Update Service Giving' : 'Save Service Giving' .>
						</a>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Broadband ASID -->
		<hr />
		<h4 class="text-success">Broadband ASID Information</h4>
		<hr />
		<div class="row">
			<div class="col-md-6">
				<div class="form-group">
					<label class="control-label col-md-6">Broadband ASID</label>
					<div class="col-md-6">
						<p id="<.= customerOrder[i].id .>_broadband_asid" class="form-control-static"><.= customerOrder[i].broadband_asid .></p>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
					<div class="col-md-6">
						<input value="<.= customerOrder[i].broadband_asid .>" data-name="<.= customerOrder[i].id .>_brodband_asid" class="form-control input-sm" data-placement="bottom" placeholder="Broadband ASID" style="height:26px; padding:0 10px;" data-error-field/>
					</div>
					<div class="col-md-6">
						<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-xs btn-block xs-btn-width-longer pull-right" data-name="<.= customerOrder[i].id .>_brodband_asid_btn">Update Broadband ASID</a>
					</div>
				</div>
			</div>
		</div>
		
		<!-- order details -->
		<hr />
		<table class="table" style="font-size:12px;">
			<thead>
				<tr>
					<th>Detail Name</th>
					<th>Detail Type</th>
					<th>Plan Type</th>
					<th>Plan Sort</th>
					<th>Plan Status</th>
					<th>Data Flow</th>
					<th class="align-right">Detail Price</th>
					<th class="align-right">Unit</th>
					<th class="align-right">Detail Expired</th>
					<th>&nbsp;</th>
				</tr>
			</thead>
			<tbody>
				<.
					var customerOrderDetail = customerOrder[i].customerOrderDetails;
					for(var d=0; d<customerOrderDetail.length; d++){
						var detailPrice = new Number(customerOrderDetail[d].detail_price);
				.>
							<tr class="<.= customerOrderDetail[d].detail_type=='discount' ? 'alert alert-warning' :
											customerOrderDetail[d].detail_type=='debit' ? 'alert alert-danger' :
											 customerOrderDetail[d].detail_type=='present-calling-minutes' ? 'alert alert-info' :
											  customerOrderDetail[d].detail_type=='early-termination-debit' ? 'alert alert-danger' :
											   customerOrderDetail[d].detail_type=='termination-credit' ? 'alert alert-warning' : '' .>">
								<td>
									<.= customerOrderDetail[d].detail_name .>
				<.		if(customerOrderDetail[d].detail_type == 'pstn' || customerOrderDetail[d].detail_type == 'voip'){		.>
							<br/>
					(			
				<.			if(customerOrderDetail[d].pstn_number == ''){		.>
								<strong class="text-warning">Number is Empty</strong>
				<.			} else if(customerOrderDetail[d].pstn_number != ''){		.>
								<strong class="text-success"><.= customerOrderDetail[d].pstn_number .></strong>
				<.
							}
				.>
					)
				<.
						}
				.>
							</td>
							<td><.= customerOrderDetail[d].detail_type .></td>
							<td><.= customerOrderDetail[d].detail_plan_type .></td>
							<td><.= customerOrderDetail[d].detail_plan_sort .></td>
							<td><strong><.= customerOrderDetail[d].detail_plan_status .></strong></td>
							<td><.= customerOrderDetail[d].detail_data_flow == -1 ? 'Ultimate' : customerOrderDetail[d].detail_data_flow .></td>
							<td class="align-right">
								<strong><.= customerOrderDetail[d].detail_type == 'discount' || customerOrderDetail[d].detail_type == 'termination-credit' ? '-' : '' .><.= detailPrice.toFixed(2) .></strong>
								<.
									if(customerOrderDetail[d].detail_type == 'plan-term'){
								.>
									<span style="display:none;" data-name="<.= customerOrder[i].id .>_detail_plan_monthly_price" data-val="<.= detailPrice.toFixed(2) .>"></span>
								<.
									}
								.>
							</td>
							<.
								if(customerOrderDetail[d].detail_type.indexOf('plan-') > -1){
							.>
									<td class="align-right" id="<.= customerOrder[i].id .>_order_detail_unit" data-name="plan-detail_<.= customerOrder[i].id .>" data-plan-name="<.= customerOrderDetail[d].detail_name .>" data-price="<.= detailPrice.toFixed(2) .>" data-val="<.= customerOrderDetail[d].detail_unit .>"><.= customerOrderDetail[d].detail_unit .></td>
							<.
								} else {
							.>
									<td class="align-right"><.= customerOrderDetail[d].detail_unit .></td>
							<.
								}
							.>
							<td class="align-right"><strong><.= customerOrderDetail[d].detail_expired_str .></strong></td>
							<td>&nbsp;
								<.
									if((user_role == 'system-developer' || user_role == 'administrator' || user_role == 'accountant')
										&&
										(customerOrderDetail[d].detail_type=='discount'
										|| customerOrderDetail[d].detail_type=='debit'
										|| customerOrderDetail[d].detail_type=='present-calling-minutes'
										|| customerOrderDetail[d].detail_type=='early-termination-debit'
										|| customerOrderDetail[d].detail_type=='termination-credit')
									){
								.>
										<.
											for(var u=0; u<users.length; u++){
												if(users[u].id == customerOrderDetail[d].user_id){
										.>
												<a class="btn btn-primary btn-xs" data-toggle="tooltip" data-placement="bottom" data-original-title="Provider: <.= users[u].user_name .>. Role: <.=  users[u].user_role .>">
										  			<span class="glyphicon glyphicon-search"></span>
												</a>
										<.
												}
											}
											if(customerOrderDetail[d].detail_type=='early-termination-debit' || customerOrderDetail[d].detail_type=='termination-credit'){
										.>
													<a class="btn btn-primary btn-xs" data-toggle="tooltip" data-placement="bottom" data-original-title="<.= customerOrderDetail[d].detail_plan_memo .> <.= customerOrderDetail[d].detail_desc .>">
											  			<span class="glyphicon glyphicon-eye-open"></span>
													</a>
										<.
											}
										.>
									<a id="<.= customerOrder[i].id .>" class="btn btn-danger btn-xs pull-right" data-name="<.= customerOrder[i].id .>_remove_detail" data-type="<.= customerOrderDetail[d].detail_type .>" data-id="<.= customerOrderDetail[d].id .>" data-toggle="tooltip" data-placement="bottom" data-original-title="Delete this <.= customerOrderDetail[d].detail_type .>">
									  	<span class="glyphicon glyphicon-trash"></span> 
									</a>
								<.
									}
									if(customerOrderDetail[d].detail_type=='pstn'){
								.>
									<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-xs pull-right xs-btn-width" data-name="<.= customerOrder[i].id .>_update_pstn" data-val="<.= customerOrderDetail[d].pstn_number .>" data-id="<.= customerOrderDetail[d].id .>">
									  	<span class="glyphicon glyphicon-edit"></span> PSTN
									</a>
								<.
									}
									if(customerOrderDetail[d].detail_type=='voip'){
								.>
									<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-xs pull-right xs-btn-width" data-name="<.= customerOrder[i].id .>_update_pstn" data-id="<.= customerOrderDetail[d].id .>">
									  	<span class="glyphicon glyphicon-edit"></span> VoIP
									</a>
								<.
									}
								.>
							</td>
						</tr>
				<.
					}
				.>
			</tbody>
			<tfoot>
				<tr>
				<.
					if((user_role == 'system-developer' || user_role == 'administrator' || user_role == 'accountant')){
				.>
					<td colspan="12"><br/>
						<!-- Button trigger modal -->
						<a id="<.= customerOrder[i].id .>" class="btn btn-success btn-xs xs-btn-width pull-right" data-name="<.= customerOrder[i].id .>_add_detail">
						  <span class="glyphicon glyphicon-plus"></span> Add Detail
						</a>
					</td>
				<.
					}
				.>
				</tr>
			</tfoot>
		</table>
		
	</form>

	<!-- Early termination charge Modal -->
	<form class="form-horizontal">
		<div class="modal fade" id="earlyTerminationChargeModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="earlyTerminationChargeModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title text-danger" id="earlyTerminationChargeModalLabel">
							<strong>Generate early termination charge for this order</strong>
						</h4>
					</div>
					<div class="modal-body">
						<p class="text-success">
							This operation will generate a early terminated charge PDF, you can find it in the <strong>Early Termination Charge</strong> List under the billing module.<br/><br/>
							<strong>Algorithm is as shown below:</strong><br/><br/>
							charge = terminated date <= (service given + 6 months) ? 199 : 99<br/><br/>
							If terminated date greater than service given month + 6 then charge 99NZD, otherwise charge 199NZD
						</p>
						<hr/>
						<div class="form-group col-md-12">
							<label class="control-label col-md-6">Terminated Date</label>
							<div class="col-md-6">
								<input class="form-control input-sm" type="text" data-name="early_terminated_charge_date_<.= customerOrder[i].id .>" placeholder="yyyy-mm-dd" />
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<a id="<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-primary" data-name="earlyTerminationChargeModalBtn_<.= customerOrder[i].id .>" data-dismiss="modal">Confirm to generate invoice</a>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
	</form>
	<!-- /.modal -->

	<!-- Termination refund Modal -->
	<form class="form-horizontal">
		<div class="modal fade" id="terminationRefundModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="terminationRefundModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title text-danger" id="terminationRefundModalLabel">
							<strong>Generate early termination refund for this order</strong>
						</h4>
					</div>
					<div class="modal-body">
						<p class="text-success">
							This operation will generate a refund PDF, you can find it in the <strong>Termination Refund</strong> List under the billing module.<br/><br/>
							<strong>Algorithm is as shown below:</strong><br/><br/>
							refund = monthly price / current month days * (last day - terminated date)
						</p>
						<hr/>
						<div class="form-group">
							<label class="control-label col-md-6">Terminated Date</label>
							<div class="col-md-6">
								<input class="form-control input-sm" type="text" data-name="terminated_refund_date_<.= customerOrder[i].id .>" placeholder="yyyy-mm-dd" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-6">Plan Monthly Charge</label>
							<div class="col-md-6">
								<input class="form-control input-sm" type="text" data-name="terminated_refund_monthly_charge_<.= customerOrder[i].id .>" placeholder="0.0" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-6">Bank Account No</label>
							<div class="col-md-6">
								<input class="form-control input-sm" type="text" data-name="terminated_refund_bank_account_no_<.= customerOrder[i].id .>" placeholder="06-xxxx-xxxxxxx-00" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-6">Bank Account Name</label>
							<div class="col-md-6">
								<input class="form-control input-sm" type="text" data-name="terminated_refund_bank_account_name_<.= customerOrder[i].id .>" placeholder="xxxxx" />
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<a id="<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-primary" data-name="terminationRefundModalBtn_<.= customerOrder[i].id .>" data-dismiss="modal">Confirm to generate refund</a>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
	</form>
	<!-- /.modal -->

	<!-- Regenerate/Generate order's invoice Modal -->
	<div class="modal fade" id="generateOrderInvoiceModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="generateOrderInvoiceModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title text-danger" id="generateOrderInvoiceModalLabel">
						<strong data-name="generate_invoice_title_<.= customerOrder[i].id .>"></strong>
					</h4>
				</div>
				<div class="modal-body">
					<p class="text-warning" data-name="generate_invoice_content_<.= customerOrder[i].id .>">
					</p>
				</div>
				<div class="modal-footer">
					<a id="<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-primary" data-name="generateOrderInvoiceModalBtn_<.= customerOrder[i].id .>" data-dismiss="modal"></a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Edit Order Status Modal -->
	<div class="modal fade" id="editOrderStatusModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="editOrderStatusModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title text-danger" id="editOrderStatusModalLabel">
						<strong>Update Order Status</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8 text-warning">Update order status?</label>
					</div>
				</div>
				<div class="modal-footer">
					<a id="<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-name="editOrderStatusModalBtn_<.= customerOrder[i].id .>" data-dismiss="modal">Confirm to update this order status</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Edit Order Due Date Modal -->
	<div class="modal fade" id="editOrderDueDateModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="editOrderDueDateModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title text-danger" id="editOrderDueDateModalLabel">
						<strong>Update Order Due Date</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8 text-warning">Update order due date?</label>
					</div>
				</div>
				<div class="modal-footer">
					<a id="<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-name="editOrderDueDateModalBtn_<.= customerOrder[i].id .>" data-dismiss="modal">Confirm to update this order due date</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Edit Order Belongs To Modal -->
	<div class="modal fade" id="editOrderBelongsToModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="editOrderBelongsToModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title text-danger" id="editOrderBelongsToModalLabel">
						<strong>Update Order Belongs To</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8 text-warning">Update Order Belongs To?</label>
					</div>
				</div>
				<div class="modal-footer">
					<a id="<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-name="editOrderBelongsToModalBtn_<.= customerOrder[i].id .>" data-dismiss="modal">Confirm to update this order belongs to</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->
	
	<!-- View Order Optional Request Modal -->
	<form class="form-horizontal">
		<div class="modal fade" id="viewOrderOptionalRequestModal_<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="viewOrderOptionalRequestModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title text-danger" id="viewOrderOptionalRequestModalLabel">
							<strong>View Order Optional Request</strong>
						</h4>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<div class="col-md-12">
								<p class="form-control-static" data-name="<.= customerOrder[i].id .>_order_optional_request_p"><.= customerOrder[i].optional_request .></p>
							</div>
						</div>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
	</form>
	
	<!-- Edit Order Optional Request Modal -->
	<form class="form-horizontal">
		<div class="modal fade" id="editOrderOptionalRequestModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="editOrderOptionalRequestModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title text-danger" id="editOrderOptionalRequestModalLabel">
							<strong>Update Order Optional Request</strong>
						</h4>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<div class="col-md-12">
								<textarea class="form-control" data-name="<.= customerOrder[i].id .>_order_optional_request_text" rows="6"><.= customerOrder[i].optional_request .></textarea>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<a id="<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-name="editOrderOptionalRequestModalBtn_<.= customerOrder[i].id .>" data-dismiss="modal">Confirm to update this order optional request</a>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
	</form>

	<!-- Edit PPPoE Modal -->
	<div class="modal fade" id="editPPPoEModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="editPPPoEModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="editPPPoEModalLabel">
						<strong>Update Related Order PPPoE Information</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8">Update PPPoE Info?</label>
					</div>
				</div>
				<div class="modal-footer">
					<a href="javascript:void(0);" class="btn btn-success" data-name="pppoe_edit_modal_btn_<.= customerOrder[i].id .>" data-dismiss="modal">Update PPPoE</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Save SV/CVLan & RFS Date Modal -->
	<div class="modal fade" id="saveSVCVLanRFSDateModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="saveSVCVLanRFSDateModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="saveSVCVLanRFSDateModalLabel">
						<strong>Save SV/CVLan &amp; RFS Date Information</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<p>
							Save SV/CVLan &amp; RFS Date? This operation will send a sms message to customer cellphone directly!<br/><br/>
							This message will content RFS date which is the one set by you recently!
						</p>
					</div>
				</div>
				<div class="modal-footer">
					<a href="javascript:void(0);" class="btn btn-success" data-name="svcvlan_rfs_date_save_<.= customerOrder[i].id .>" data-dismiss="modal">Save SV/CVLan &amp; RFS Date</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Save Service Giving Modal -->
	<div class="modal fade" id="saveServiceGivingModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="saveServiceGivingModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="saveServiceGivingModalLabel">
						<strong>Save Service Giving Date Information</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8">Save Service Giving Date?</label>
					</div>
				</div>
				<div class="modal-footer">
					<a href="javascript:void(0);" class="btn btn-success" data-name="service_giving_save_<.= customerOrder[i].id .>" data-dismiss="modal">Confirm to save Service Giving Date</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Save Service Giving Denied Modal -->
	<div class="modal fade" id="saveServiceGivingDeniedModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="saveServiceGivingDeniedModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="saveServiceGivingDeniedModalLabel">
						<strong>Save Service Giving Date Denied</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8">
							Could not save these changes!<br />Please double check this order status!!!
						</label>
					</div>
				</div>
				<div class="modal-footer">
					<a href="javascript:void(0);" class="btn btn-primary" data-dismiss="modal">Close</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Edit Broadband ASID Modal -->
	<div class="modal fade" id="saveBroadbandASIDModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="saveBroadbandASIDModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="saveBroadbandASIDModalLabel">
						<strong>Save Broadband ASID Information</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8">Save Broadband ASID?</label>
					</div>
				</div>
				<div class="modal-footer">
					<a href="javascript:void(0);" class="btn btn-success" data-name="saveBroadbandASIDModalBtn_<.= customerOrder[i].id .>" data-dismiss="modal">Confirm to update Broadband ASID</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Edit PSTN Modal -->
	<form class="form-horizontal">
		<div class="modal fade" id="updatePSTNModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="updatePSTNModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title text-danger" id="updatePSTNModalLabel">
							<strong>Update PSTN Info</strong>
						</h4>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<label class="control-label col-md-4">PSTN Number</label>
							<div class="col-md-6">
								<input data-name="pstn_number_<.= customerOrder[i].id .>" class="form-control input-sm" placeholder="PSTN Number" />
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<a id="<.= customerOrder[i].id .>" data-name="updatePSTNModalBtn_<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-dismiss="modal">Update PSTN</a>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
	</form>

	<!-- Remove Detail Modal -->
	<div class="modal fade" id="removeDetailModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="removeDetailModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="removeDetailModalLabel">
						<strong>Remove Selected Detail</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8">
							Are you sure you want to remove this detail?
						</label>
					</div>
				</div>
				<div class="modal-footer">
					<a id="<.= customerOrder[i].id .>" data-name="removeDetailModalBtn_<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-dismiss="modal">Remove Detail</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Add Discount Modal -->
	<form class="form-horizontal">
		<div class="modal fade" id="addDetailModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="addDetailModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title" id="addDetailModalLabel">
							<strong>Add A Detail</strong>
						</h4>
						<div class="form-group">
							<label class="control-label col-md-4">Detail Type</label>
							<div class="col-md-6">
								<select id="<.= customerOrder[i].id .>" data-name="<.= customerOrder[i].id .>_detail_type" class="form-control input-sm">
									<option value="none">---choose one---</option>
									<option value="discount">Credit</option>
									<option value="debit">Debit</option>
									<option value="present-calling-minutes">Offer Calling Minutes</option>
									<option value="early-termination-debit">Early Termination Charge</option>
									<option value="termination-credit">Termination Refund</option>
								</select>
							</div>
						</div>
					</div>
					<div class="modal-body" data-name="<.= customerOrder[i].id .>_detail_modal_body" data-type="<.= customerOrder[i].id .>_none_modal_body">
						<p>
							Please choose a type to add into this order!
						</p>
					</div>
					<div class="modal-body" data-name="<.= customerOrder[i].id .>_detail_modal_body" data-type="<.= customerOrder[i].id .>_discount_modal_body" style="display:none;">
						<div class="form-group">
							<label class="control-label col-md-4">Credit Name</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_discount_name" class="form-control input-sm" placeholder="Credit Name" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-4">Credit Amount</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_discount_price" class="form-control input-sm" placeholder="Credit Amount" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-4">Credit Unit</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_discount_unit" class="form-control input-sm" placeholder="Credit Unit" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-4">Credit Expired</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_discount_expired" class="form-control input-sm" placeholder="e.g.:YYYY-MM-DD" />
							</div>
						</div>
					</div>
					
					<div class="modal-body" data-name="<.= customerOrder[i].id .>_detail_modal_body" data-type="<.= customerOrder[i].id .>_debit_modal_body" style="display:none;">
						<div class="form-group">
							<label class="control-label col-md-4">Debit Name</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_debit_name" class="form-control input-sm" placeholder="Debit Name" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-4">Debit Amount</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_debit_price" class="form-control input-sm" placeholder="Debit Amount" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-4">Debit Unit</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_debit_unit" class="form-control input-sm" placeholder="Debit Unit" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-4">Debit Expired</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_debit_expired" class="form-control input-sm" placeholder="e.g.:YYYY-MM-DD" />
							</div>
						</div>
					</div>
					
					<div class="modal-body" data-name="<.= customerOrder[i].id .>_detail_modal_body" data-type="<.= customerOrder[i].id .>_early-termination-debit_modal_body" style="display:none;">
						<div class="form-group">
							<label class="control-label col-md-4">Termination Date</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_detail_early_termination_date" class="form-control input-sm" placeholder="e.g.:YYYY-MM-DD" />
							</div>
						</div>
					</div>
					
					<div class="modal-body" data-name="<.= customerOrder[i].id .>_detail_modal_body" data-type="<.= customerOrder[i].id .>_termination-credit_modal_body" style="display:none;">
						<div class="form-group">
							<label class="control-label col-md-4">Termination Date</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_detail_termination_date" class="form-control input-sm" placeholder="e.g.:YYYY-MM-DD" />
							</div>
						</div>
					</div>
					
					<div class="modal-body" data-name="<.= customerOrder[i].id .>_detail_modal_body" data-type="<.= customerOrder[i].id .>_present-calling-minutes_modal_body" style="display:none;">
						<div class="form-group">
							<label class="control-label col-md-4">Calling Minutes</label>
							<div class="col-md-6">
								<input data-name="<.= customerOrder[i].id .>_calling_minutes" class="form-control input-sm" placeholder="Calling Minutes" />
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-md-4">Calling Country</label>
							<div class="col-md-6">
								<select data-name="<.= customerOrder[i].id .>_calling_country" class="form-control input-sm" style="height:26px; padding:0 10px;">
								
										<option disabled="disabled">--- Mobile + Fixed line ---</option>
										<option value="Bangladesh-both" >Bangladesh</option>
										<option value="Malaysia-both" >Malaysia</option>
										<option value="Cambodia-both" >Cambodia</option>
										<option value="Singapore-both" >Singapore</option>
										<option value="Canada-both" >Canada</option>
										<option value="Korea-both" >Korea</option>
										<option value="China-both" >China</option>
										<option value="USA-both" >USA</option>
										<option value="Hong Kong-both" >Hong Kong</option>
										<option value="Vietnam-both" >Vietnam</option>
										<option value="India-both" >India</option>
										
										<option disabled="disabled"></option>
										<option disabled="disabled">--- Fixed line ---</option>
										<option value="Argentina-fixedline">Argentina</option>
										<option value="Germany-fixedline">Germany</option>
										<option value="Laos-fixedline">Laos</option>
										<option value="South Africa-fixedline">South Africa</option>
										<option value="Australia-fixedline">Australia</option>
										<option value="Greece-fixedline">Greece</option>
										<option value="Netherlands-fixedline">Netherlands</option>
										<option value="Spain-fixedline">Spain</option>
										<option value="Belgium-fixedline">Belgium</option>
										<option value="Indonesia-fixedline">Indonesia</option>
										<option value="Norway-fixedline">Norway</option>
										<option value="Sweden-fixedline">Sweden</option>
										<option value="Brazil-fixedline">Brazil</option>
										<option value="Ireland-fixedline">Ireland</option>
										<option value="Pakistan-fixedline">Pakistan</option>
										<option value="Switzerland-fixedline">Switzerland</option>
										<option value="Cyprus-fixedline">Cyprus</option>
										<option value="Israel-fixedline">Israel</option>
										<option value="Poland-fixedline">Poland</option>
										<option value="Taiwan-fixedline">Taiwan</option>
										<option value="Czech-fixedline">Czech</option>
										<option value="Italy-fixedline">Italy</option>
										<option value="Portugal-fixedline">Portugal</option>
										<option value="Thailand-fixedline">Thailand</option>
										<option value="Denmark-fixedline">Denmark</option>
										<option value="Japan-fixedline">Japan</option>
										<option value="Russia-fixedline">Russia</option>
										<option value="United Kingdom-fixedline">United Kingdom</option>
										<option value="France-fixedline">France</option>
								</select>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<a id="<.= customerOrder[i].id .>" data-name="addDetailModalBtn_<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-dismiss="modal">Add Detail</a>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
	</form>

	<!-- Remove Calling Minutes Modal -->
	<div class="modal fade" id="removeCallingMinutesModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="removeCallingMinutesModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="removeCallingMinutesModalLabel">
						<strong>Remove Selected Calling Minutes</strong>
					</h4>
				</div>
				<div class="modal-body">
					<div class="form-group">
						<label class="control-label col-md-8">
							Are you sure want to remove this presented calling minutes?
						</label>
					</div>
				</div>
				<div class="modal-footer">
					<a id="<.= customerOrder[i].id .>" data-name="removeCallingMinutesModalBtn_<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-dismiss="modal">Remove Calling Minutes</a>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->

	<!-- Offer Calling Minutes Modal -->
	<form class="form-horizontal">
		<div class="modal fade" id="offerCallingMinutesModal_<.= customerOrder[i].id .>" data-id="<.= customerOrder[i].id .>" tabindex="-1" role="dialog" aria-labelledby="offerCallingMinutesModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
						<h4 class="modal-title" id="offerCallingMinutesModalLabel">
							<strong>Offer Calling Minutes</strong>
						</h4>
					</div>
					<div class="modal-footer">
						<a id="<.= customerOrder[i].id .>" data-name="offerCallingMinutesModalBtn_<.= customerOrder[i].id .>" href="javascript:void(0);" class="btn btn-success" data-dismiss="modal">Confirm to offer calling minutes</a>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
	</form>
<.
	}
.>