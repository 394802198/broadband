<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- DEFINITION AREA --><!-- // DEFINITION AREA -->
<!-- =================================================================================== -->
<!-- SELECT AREA --><!-- // END SELECT AREA -->
<!-- =================================================================================== -->
<!-- INSERT AREA --><!-- // END INSERT AREA -->
<!-- =================================================================================== -->
<!-- UPDATE AREA --><!-- // END UPDATE AREA -->
<!-- =================================================================================== -->
<!-- DELETE AREA --><!-- // END DELETE AREA -->

<mapper namespace="com.tm.broadband.mapper.CustomerOrderDetailMapper">
	
	<!-- DEFINITION AREA -->
	
	<sql id="customerOrderDetailColumns">
		cod.`id` 								as cod_id
		, cod.`order_id` 						as cod_order_id
		, cod.`detail_name` 					as cod_detail_name
		, cod.`detail_desc` 					as cod_detail_desc
		, cod.`detail_price` 					as cod_detail_price
		, cod.`detail_data_flow` 				as cod_detail_data_flow
		, cod.`detail_plan_status` 				as cod_detail_plan_status
		, cod.`detail_plan_type` 				as cod_detail_plan_type
		, cod.`detail_plan_sort` 				as cod_detail_plan_sort
		, cod.`detail_plan_group` 				as cod_detail_plan_group
		, cod.`detail_plan_new_connection_fee` 	as cod_detail_plan_new_connection_fee
		, cod.`detail_term_period` 				as cod_detail_term_period
		, cod.`detail_topup_data_flow` 			as cod_detail_topup_data_flow
		, cod.`detail_topup_fee` 				as cod_detail_topup_fee
		, cod.`detail_plan_memo` 				as cod_detail_plan_memo
		, cod.`detail_unit` 					as cod_detail_unit
		, cod.`detail_calling_minute` 			as cod_detail_calling_minute
		, cod.`detail_type` 					as cod_detail_type
		, cod.`detail_is_next_pay`				as cod_detail_is_next_pay
		, cod.`detail_expired`					as cod_detail_expired
		, cod.`is_post`							as cod_is_post
		, cod.`hardware_comment`				as cod_hardware_comment
		, cod.`track_code`						as cod_track_code
		, cod.`pstn_number` 					as cod_pstn_number
		, cod.`user_id` 						as cod_user_id
		, cod.`voip_password` 					as cod_voip_password
		, cod.`voip_assign_date` 				as cod_voip_assign_date
	</sql>
	
	<sql id="customerOrderDetailWhere">
		<where>
			<choose>
				<otherwise>
					<if test="params.id != null">cod.id = #{params.id}</if>
					<if test="params.order_id != null">cod.order_id = #{params.order_id}</if>
					<if test="params.detail_name != null">cod.detail_name = #{params.detail_name}</if>
					<if test="params.detail_desc != null">cod.detail_desc = #{params.detail_desc}</if>
					<if test="params.detail_price != null">cod.detail_price = #{params.detail_price}</if>
					<if test="params.detail_unit != null">cod.detail_unit = #{params.detail_unit}</if>
					<if test="params.pstn_number != null">cod.pstn_number = #{params.pstn_number}</if>
					<if test="params.detail_type != null">cod.detail_type = #{params.detail_type}</if>
					<if test="params.user_id != null">cod.user_id = #{params.user_id}</if>
				</otherwise>
			</choose>
		</where>
	</sql>
	
	<!-- // DEFINITION AREA -->
	<!-- =================================================================================== -->
	<!-- SELECT AREA -->
	
	<select id="selectCustomerOrderDetails" parameterType="CustomerOrderDetail" resultType="CustomerOrderDetail">
		select * from `tm_customer_order_detail` as cod
		<include refid="customerOrderDetailWhere"/>
	</select>
	
	<select id="selectCustomerOrderDetailsByOrderId" parameterType="int" resultType="CustomerOrderDetail">
		SELECT * FROM `tm_customer_order_detail` WHERE order_id = #{0}
	</select>

	<!-- // END SELECT AREA -->
	<!-- =================================================================================== -->
	<!-- INSERT AREA -->

	<insert id="insertCustomerOrderDetail" parameterType="CustomerOrderDetail" >
		INSERT INTO `tm_customer_order_detail`(
			`order_id`, `detail_name`, `detail_desc`, `detail_price`, 
			`detail_data_flow`, `detail_plan_status`, `detail_plan_type`, `detail_plan_sort`, 
			`detail_plan_group`, `detail_plan_new_connection_fee`, `detail_term_period`, `detail_topup_data_flow`, 
			`detail_topup_fee`, `detail_plan_memo`, `detail_unit`, `detail_calling_minute`, `detail_type`, `detail_expired`,
			`detail_is_next_pay`, `is_post`, `hardware_comment`, `track_code`, `pstn_number`, `user_id`, `voip_password`,
			`voip_assign_date`) 
		VALUES (
			#{order_id}, #{detail_name}, #{detail_desc}, #{detail_price}, 
			#{detail_data_flow}, #{detail_plan_status}, #{detail_plan_type}, #{detail_plan_sort}, 
			#{detail_plan_group}, #{detail_plan_new_connection_fee}, #{detail_term_period}, #{detail_topup_data_flow},
			#{detail_topup_fee}, #{detail_plan_memo}, #{detail_unit}, #{detail_calling_minute}, #{detail_type}, #{detail_expired},
			#{detail_is_next_pay}, #{is_post}, #{hardware_comment}, #{track_code}, #{pstn_number}, #{user_id}, #{voip_password},
			#{voip_assign_date})
	</insert>
	
	<!-- // END INSERT AREA -->
	<!-- =================================================================================== -->
	<!-- UPDATE AREA -->
	
	<update id="updateCustomerOrderDetail" parameterType="CustomerOrderDetail">
		UPDATE `tm_customer_order_detail` 
		<set>
			<if test="order_id != null">order_id=#{order_id},</if>
			<if test="detail_name != null">detail_name=#{detail_name},</if>
			<if test="detail_desc != null">detail_desc=#{detail_desc},</if>
			<if test="detail_price != null">detail_price=#{detail_price},</if>
			<if test="detail_data_flow != null">detail_data_flow=#{detail_data_flow},</if>
			<if test="detail_plan_status != null">detail_plan_status=#{detail_plan_status},</if>
			<if test="detail_plan_type != null">detail_plan_type=#{detail_plan_type},</if>
			<if test="detail_plan_sort != null">detail_plan_sort=#{detail_plan_sort},</if>
			<if test="detail_plan_group != null">detail_plan_group=#{detail_plan_group},</if>
			<if test="detail_plan_new_connection_fee != null">detail_plan_new_connection_fee=#{detail_plan_new_connection_fee},</if>
			<if test="detail_term_period != null">detail_term_period=#{detail_term_period},</if>
			<if test="detail_topup_data_flow != null">detail_topup_data_flow=#{detail_topup_data_flow},</if>
			<if test="detail_topup_fee != null">detail_topup_fee=#{detail_topup_fee},</if>
			<if test="detail_plan_memo != null">detail_plan_memo=#{detail_plan_memo},</if>
			<if test="detail_unit != null">detail_unit=#{detail_unit},</if>
			<if test="detail_calling_minute != null">detail_calling_minute=#{detail_calling_minute},</if>
			<if test="detail_type != null">detail_type=#{detail_type},</if>
			<if test="detail_expired != null">detail_expired=#{detail_expired},</if>
			<if test="detail_is_next_pay != null">detail_is_next_pay=#{detail_is_next_pay},</if>
			<if test="is_post != null">is_post=#{is_post},</if>
			<if test="hardware_comment != null">hardware_comment=#{hardware_comment},</if>
			<if test="track_code != null">track_code=#{track_code},</if>
			<if test="pstn_number != null">pstn_number=#{pstn_number},</if>
			<if test="user_id != null">user_id=#{user_id},</if>
			<if test="voip_password != null">voip_password=#{voip_password},</if>
			<if test="voip_assign_date != null">voip_assign_date=#{voip_assign_date}</if>
		</set>
		<where>
			<if test="params.id !=null">id=#{params.id}</if>
		</where>
	</update>
	<!-- // END UPDATE AREA -->
	<!-- =================================================================================== -->
	<!-- DELETE AREA -->
	<delete id="deleteCustomerOrderDetailById" parameterType="int">
		DELETE FROM `tm_customer_order_detail` WHERE id=#{0};
	</delete>
	
	<delete id="deleteCustomerOrderDetailByOrderId" parameterType="int">
		DELETE FROM tm_customer_order_detail WHERE order_id = #{0};
	</delete>
	<!-- // END DELETE AREA -->

</mapper>